
<!DOCTYPE html>
<html lang="en">
        <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>

        <title>ashcoder.io - Crete public key private key OpenSSL</title>
        <meta name="description" content="Welcome!" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">        

        <link type="application/rss+xml" rel="alternate" title="ashcoder.io" href="/blog/feed.rss" />
                <link type="application/atom+xml" rel="alternate" title="ashcoder.io" href="/blog/feed.atom" />
        <link rel="shortcut icon" href="/blog/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/blog/favicon.ico" type="image/x-icon">

        <link href="/blog/assets/css/bootstrap.min.css" rel="stylesheet" />
        <link href="/blog/assets/css/highlight.css" rel="stylesheet">
        <link href="/blog/assets/css/clean-blog.css" rel="stylesheet" />
        <link href="/blog/assets/css/master.css" rel="stylesheet" />
        <link href="/blog/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
        <link href="/blog/assets/css/override.css" rel="stylesheet" />


        <meta name="application-name" content="ashcoder.io" />
        <meta name="msapplication-tooltip" content="ashcoder.io" />
        <meta name="msapplication-starturl" content="/blog/" />

        <meta property="og:title" content="ashcoder.io - Crete public key private key OpenSSL" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="http://host.com/blog/posts/publickey-privatekey-generation" />
        <!-- TODO: More social graph meta tags -->

        <script src="/blog/assets/js/jquery.min.js"></script>
        <script src="/blog/assets/js/bootstrap.min.js"></script>     
        <script src="/blog/assets/js/highlight.pack.js"></script>   
        <script src="/blog/assets/js/clean-blog.js"></script>
        <script src="/blog/assets/js/d3.v3.min.js"></script>
        <script src="/blog/assets/js/trianglify.min.js"></script>
        <script src="/blog/assets/js/Please-compressed.js"></script>
        <script src="/blog/assets/js/background-check.min.js"></script>
                
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
                <script src="/blog/assets/js/html5shiv.js"></script>
                <script src="/blog/assets/js/respond.min.js"></script>
        <![endif]-->
        
        


        </head>
        <body>
                
                <!-- Navigation -->
                <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
                        <div class="container-fluid">
                                <!-- Brand and toggle get grouped for better mobile display -->
                                <div class="navbar-header page-scroll">
                                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                                        <span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        </button>
                                        <a class="navbar-brand" href="/blog/">ashcoder.io</a>
                                </div>
                        
                                <!-- Collect the nav links, forms, and other content for toggling -->
                                <div class="collapse navbar-collapse" id="navbar-collapse">
                                        <ul class="nav navbar-nav navbar-right">
                                                        <li><a href="/blog/posts">Archive</a></li>
        <li><a href="/blog/tags">Tags</a></li>
        <li><a href="/blog/about">About Me</a></li>
 
                                        </ul>
                                </div>
                                <!-- /.navbar-collapse -->
                        </div>
                        <!-- /.container -->
                </nav>
                
                <!-- Page Header -->
                <header class="intro-header" id="intro-header">
                        <div class="container">
                                <div class="row">
                                        <div class="col-md-12">

    
<div class="post-heading">
    <h1>Crete public key private key OpenSSL</h1>
    <div class="meta">        
Published on Sunday, December 8, 2019<br>    </div>
        <div class="tags">
                    <a role="button" href="/blog/tags/der" class="btn btn-default btn-xs">der</a>
                    <a role="button" href="/blog/tags/OpenSSL" class="btn btn-default btn-xs">OpenSSL</a>
                    <a role="button" href="/blog/tags/pem" class="btn btn-default btn-xs">pem</a>
                    <a role="button" href="/blog/tags/pkcs1" class="btn btn-default btn-xs">pkcs1</a>
                    <a role="button" href="/blog/tags/pkcs8" class="btn btn-default btn-xs">pkcs8</a>
                    <a role="button" href="/blog/tags/privatekey" class="btn btn-default btn-xs">privatekey</a>
                    <a role="button" href="/blog/tags/publickey" class="btn btn-default btn-xs">publickey</a>
        </div>     
</div>
                                        </div>
                                </div>
                        </div>
                </header>
                
                <!-- Main Content -->
                <div class="container">
                        <div class="row">
                                <div id="content" class="col-md-12">
                                        

<h1 id="create-public-key-private-key-openssl">Create public key private key OpenSSL</h1>
<p>Generate Private key(pkcs1) and certificate</p>
<pre><code class="language-shell">    openssl genrsa -out file.key 2048
    openssl req -new -x509 -key file.key -out publickey.cer -days 1825
</code></pre>
<pre><code class="language-shell">
    openssl req -x509 -newkey rsa:4096 -sha256 -days 3650 -nodes  -keyout example.key -out example.crt -subj /CN=example.com  -addext subjectAltName=DNS:example.com,DNS:example.net,IP:10.0.0.1

    openssl pkcs8 -topk8 -inform pem -in file.key -outform pem -nocrypt -out file.pem

    openssl genrsa -out file.key 1024

</code></pre>
<p>Alternating Way (Create Private key and Certificate)</p>
<pre><code class="language-shell">    openssl genrsa -out privkey.pem 4096
    openssl req -new -x509 -key privkey.pem -out cacert.pem -days 1095 -subj /CN=example.com  -addext subjectAltName=DNS:example.com,DNS:example.net,IP:10.0.0.1
</code></pre>
<h1 id="convertion-between-different-formats">convertion between different formats</h1>
<p>PKCS #1</p>
<hr />
<p>Defines the traditional format for RSA keys. Two structures:</p>
<pre><code class="language-shell">    -----BEGIN RSA PRIVATE KEY-----
    RSAPrivateKey
    -----END RSA PRIVATE KEY-----
</code></pre>
<pre><code class="language-shell">    -----BEGIN RSA PUBLIC KEY-----
    RSAPublicKey
    -----END RSA PUBLIC KEY-----
</code></pre>
<p>Commands</p>
<hr />
<p>Generate RSA private key</p>
<hr />
<pre><code class="language-shell">    openssl genrsa -out private.pem 2048
</code></pre>
<p>Extract public key from RSA private key</p>
<hr />
<pre><code class="language-shell">    openssl rsa -in private.pem -out public.pem -RSAPublicKey_out
</code></pre>
<p>ASN.1 and DER encoding</p>
<hr />
<p>Within the RSA, PKCS#1 and SSL/TLS communities the Distinguished Encoding Rules (DER) encoding of ASN.1 is used to represent keys, certificates and such in a portable format. Although ASN.1 is not the easiest to understand representation formats and brings a lot of complexity, it does have its merits. The certificate or key information is stored in the binary DER for ASN.1 and applications providing RSA, SSL and TLS should handle DER encoding to read in the information.</p>
<p>PEM files</p>
<hr />
<p>Because DER encoding results in a truly binary representation of the encoded data, a format has been devised for being able to send these in an encoding of printable characters so you can actually mail these things. The format I focus on now is the PEM format.</p>
<p>In essence PEM files are just base64 encoded versions of the DER encoded data. In order to distinguish from the outside what kind of data is inside the DER encoded string, a header and footer are present around the data. An example of a PEM encoded file is:</p>
<pre><code class="language-shell">    -----BEGIN PUBLIC KEY-----
    MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDMYfnvWtC8Id5bPKae5yXSxQTt
    +Zpul6AnnZWfI2TtIarvjHBFUtXRo96y7hoL4VWOPKGCsRqMFDkrbeUjRrx8iL91
    4/srnyf6sh9c8Zk04xEOpK1ypvBz+Ks4uZObtjnnitf0NBGdjMKxveTq+VE7BWUI
    yQjtQ8mbDOsiLLvh7wIDAQAB
    -----END PUBLIC KEY-----
</code></pre>
<p>The first and last line indicate the DER format that should be expected inside. The data inside is a base64 encoded version of the DER encoded information.</p>
<p>Good explanations of the difference between the two formats pkcs1 and pkcs8 <a href="https://tls.mbed.org/kb/cryptography/asn1-key-structures-in-der-and-pem">https://tls.mbed.org/kb/cryptography/asn1-key-structures-in-der-and-pem</a></p>
<p>Also Take A look <a href="https://stackoverflow.com/questions/18039401/how-can-i-transform-between-the-two-styles-of-public-key-format-one-begin-rsa/29707204">https://stackoverflow.com/questions/18039401/how-can-i-transform-between-the-two-styles-of-public-key-format-one-begin-rsa/29707204</a></p>
<p><a href="https://en.wikipedia.org/wiki/Abstract_Syntax_Notation_One">Abstract Syntax Notation One</a></p>
<p><a href="https://stackoverflow.com/questions/18039401/how-can-i-transform-between-the-two-styles-of-public-key-format-one-begin-rsa/29707204">https://stackoverflow.com/questions/18039401/how-can-i-transform-between-the-two-styles-of-public-key-format-one-begin-rsa/29707204</a></p>


<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'shadowkiller69x'; // required: replace example with your forum shortname
    var disqus_identifier = 'publickey-privatekey-generation';
    var disqus_title = 'Crete public key private key OpenSSL';
    var disqus_url = 'http://host.com/blog/posts/publickey-privatekey-generation';

    
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://shadowkiller69x.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                                </div>
                        </div>
                </div>
                
                <hr>
                
                <!-- Footer -->
                <footer>
                        <div class="container">
        <div class="row">
                <div class="col-md-12 text-center">
                    <p class="copyright text-muted">
                        Copyright © 2020
                        <br />
                            <a href="/blog/feed.rss"><i class="fa fa-rss"></i> RSS Feed</a>
                        |
                            <a href="/blog/feed.atom"><i class="fa fa-rss"></i> Atom Feed</a>
                        <br />
                       
                    </p>
                </div>
        </div>
</div>

                </footer> 

                
                <script>hljs.initHighlightingOnLoad();</script>

                        <script type="text/javascript">                
                                // Header background                        
                                var colors = Please.make_color({
                                        colors_returned: 3,
                                        saturation: .6
                                });
                                var t = new Trianglify({
                                        x_gradient: colors,
                                        y_gradient: ["#FFFFFF"]
                                });
                                var header = document.getElementById("intro-header");
                                var pattern = t.generate(header.clientWidth, header.clientHeight);
                                header.setAttribute('style', 'background-image: ' + pattern.dataUrl);                        
                        </script>

                <script>
                        BackgroundCheck.init({
                                targets: '.intro-header,.navbar',
                                images: '.intro-header'
                        });
                </script>
        </body>
</html>

